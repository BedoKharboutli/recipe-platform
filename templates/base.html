<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <meta name="theme-color" content="#e74c3c" />
    <meta name="description" content="Uppt√§ck smakfulla recept fr√•n traditionella svenska r√§tter till internationella favoriter. Dela dina egna recept och utforska en v√§rld av matlagning." />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>

    <!-- Modern Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    
    <!-- Font Awesome Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/main.css') }}"
    />

    <title>üçΩÔ∏è Receptl√•dan - Uppt√§ck Smakfulla Recept</title>
  </head>

  <body>
    <!-- Modern Food-Themed Header -->
    <header class="modern-header">
      <nav class="navbar navbar-expand-lg">
        <div class="container-fluid px-3 px-md-4">
          <!-- Brand Logo -->
          <a class="navbar-brand d-flex align-items-center" href="{{ url_for('home') }}">
            <i class="fas fa-utensils brand-icon me-2"></i>
            <span class="brand-text">Receptl√•dan</span>
          </a>
          
          <!-- Mobile Toggle -->
          <button
            class="navbar-toggler border-0 p-2"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarContent"
            aria-controls="navbarContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <i class="fas fa-bars"></i>
          </button>
          
          <!-- Navigation Content -->
          <div class="collapse navbar-collapse" id="navbarContent">
            <!-- Mobile Search (shown first on mobile) -->
            <div class="d-lg-none w-100 mb-3">
              <form class="search-form" role="search" action="{{ url_for('search_recipes') }}" method="POST">
                <div class="search-container">
                  <input
                    class="search-input"
                    type="search"
                    name="search"
                    placeholder="S√∂k recept..."
                    aria-label="Search"
                    value="{{ search_query if search_query else '' }}"
                  />
                  <button class="search-btn" type="submit" aria-label="S√∂k">
                    <i class="fas fa-search"></i>
                  </button>
                </div>
              </form>
            </div>
            
            <!-- Center Navigation -->
            <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link" href="{{ url_for('home') }}">
                  <i class="fas fa-home me-1"></i>Hem
                </a>
              </li>
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  <i class="fas fa-list me-1"></i>Kategorier
                </a>
                <ul class="dropdown-menu modern-dropdown">
                  <li><a class="dropdown-item" href="{{ url_for('recipes_by_category', category_id=1) }}"><i class="fas fa-drumstick-bite me-2"></i>Kyckling</a></li>
                  <li><a class="dropdown-item" href="{{ url_for('recipes_by_category', category_id=2) }}"><i class="fas fa-fish me-2"></i>Fisk</a></li>
                  <li><a class="dropdown-item" href="{{ url_for('recipes_by_category', category_id=3) }}"><i class="fas fa-hamburger me-2"></i>K√∂tt</a></li>
                  <li><a class="dropdown-item" href="{{ url_for('recipes_by_category', category_id=4) }}"><i class="fas fa-leaf me-2"></i>Vegetariskt</a></li>
                  <li><a class="dropdown-item" href="{{ url_for('recipes_by_category', category_id=5) }}"><i class="fas fa-seedling me-2"></i>Veganskt</a></li>
                  <li><a class="dropdown-item" href="{{ url_for('recipes_by_category', category_id=6) }}"><i class="fas fa-pizza-slice me-2"></i>Pasta</a></li>
                  <li><a class="dropdown-item" href="{{ url_for('recipes_by_category', category_id=7) }}"><i class="fas fa-pizza-slice me-2"></i>Pizza</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="{{ url_for('home') }}"><i class="fas fa-home me-2"></i>Alla Recept</a></li>
                </ul>
              </li>
              <li class="nav-item authorized">
                <a class="nav-link" href="{{ url_for('add_recipe') }}">
                  <i class="fas fa-plus-circle me-1"></i>Skapa Recept
                </a>
              </li>
            </ul>
            
            <!-- Desktop Right Side Actions -->
            <div class="d-none d-lg-flex align-items-center">
              <!-- Desktop Search -->
              <form class="search-form me-3" role="search" action="{{ url_for('search_recipes') }}" method="POST">
                <div class="search-container">
                  <input
                    class="search-input"
                    type="search"
                    name="search"
                    placeholder="S√∂k recept..."
                    aria-label="Search"
                    value="{{ search_query if search_query else '' }}"
                  />
                  <button class="search-btn" type="submit" aria-label="S√∂k">
                    <i class="fas fa-search"></i>
                  </button>
                </div>
              </form>
              
              <!-- Desktop Auth Buttons -->
              <div class="auth-buttons">
                <a class="btn btn-outline-primary me-2 unauthorized" href="{{ url_for('sign_up') }}">
                  <i class="fas fa-user-plus me-1"></i>Registrera
                </a>
                <a class="btn btn-primary unauthorized" href="{{ url_for('sign_in') }}">
                  <i class="fas fa-sign-in-alt me-1"></i>Logga In
                </a>
                <a class="btn btn-outline-danger authorized" href="{{ url_for('sign_in') }}">
                  <i class="fas fa-sign-out-alt me-1"></i>Logga ut
                </a>
              </div>
            </div>
            
            <!-- Mobile Auth Buttons -->
            <div class="d-lg-none w-100">
              <div class="auth-buttons">
                <a class="btn btn-outline-primary unauthorized" href="{{ url_for('sign_up') }}">
                  <i class="fas fa-user-plus me-1"></i>Registrera
                </a>
                <a class="btn btn-primary unauthorized" href="{{ url_for('sign_in') }}">
                  <i class="fas fa-sign-in-alt me-1"></i>Logga In
                </a>
                <a class="btn btn-outline-danger authorized" href="{{ url_for('sign_in') }}">
                  <i class="fas fa-sign-out-alt me-1"></i>Logga ut
                </a>
              </div>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <!-- Flash Messages -->
    <div class="flash-messages">
      {% for mesg in get_flashed_messages() %}
      <div class="alert alert-success alert-dismissible fade show modern-alert" role="alert">
        <i class="fas fa-check-circle me-2"></i>
        <strong>{{ mesg }}</strong>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
      {% endfor %}
    </div>
    
    <!-- Main Content -->
    <main class="main-content">
      {% block body %} {% endblock %}
    </main>

    <script>
      var isAuthorized = "{{ isAuthorized }}";
      const unauthorized = document.getElementsByClassName("unauthorized");
      const authorized = document.getElementsByClassName("authorized");

      if (isAuthorized == "True") {
        for (const item of unauthorized) {
          item.classList.add("hidden");
        }
      } else {
        for (const item of authorized) {
          item.classList.add("hidden");
        }
      }
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
      integrity="sha384-JVNsvvFoaNuQbSS0SBD6z50jFXwPei51WqAy6DLmNcDLGT9eAf5k4fA2P04Hg2L4"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
